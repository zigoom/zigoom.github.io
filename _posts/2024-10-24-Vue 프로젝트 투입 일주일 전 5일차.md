---
title: Vue 프로젝트 투입 일주일 전 5일차
author: jonghoon
date: 2024-10-24 15:37 +09:00
categories: [Study, S_Vue]
tags: [vue, book]
toc: true
comments: true
---
  

## **13. 미니프로젝트: 로그인처리**
### **13.1 카카오 계정으로 로그인하기 (p218)**
  - OAuth 2.0 기반으로 사용자 인증을 하며 간단하게 로그인이 가능해서, 사용자 동의하에 이름,이메일,전화번호 등의 정보를 API로 받을수 있다.  
#### **13.1.1 카카오 개발자 센터 가입**  
#### **13.1.2 애플리케이션 등록**  
  - 앱 이름, 이미지, 사업자명 등을 등록하면 키를 받을수 있다.
  - 네이티브앱(Android, iOS), REST API, JavaScript 키, Admin 키 등을 볼수 있으며, Vue.js에서는 자바스크립트로 키를 받아 사용한다.
#### **13.1.3 vmffotvha 설정하기**  
  - 생성된 앱의 설정에서 플랫폼 항목에 들어가서 Vue.js에서 사용할 Web 플랫폼을 등록한다. (도메인을 작성하는데 개발시에는 로컬로 써준다.)  
#### **13.1.4 카카오 로그인 활성화**
  - 카카오 로그인시 Redirect URI를 등록해서 카카오 로그인을 활성화를 On으로 해줘야 하는데 이때에 Redurect URI의 주소는 카카오 로그인을 하는 페이지의 경로를 써주게 된다. (p228 참조)   
#### **13.1.5 동의항목 설정**
  - 내 애플리케이션 -> 제품 설정 -> 카카오 로그인 -> 동의항목 에서 원하는 동의 항목을 설정한다. (예제에서는 이메일을 필수 항목으로 설정하고, 나머지는 선택동의 처리했다.)
#### **13.1.6 카카오 JavaScript SDK 및 앱 키 등록**  
  - index.html에 SDK를 추가하고 앞에서 받은 앱키를 등록해 준다. (p233 참조)
#### **13.1.7 로그인 컴포넌트 구현**  
  - view 폴더에 Login.vue 파일을 만들고, index.js에 KakaoLogin.vue를 kakaologin을 패스로 추가한다.
  - 버튼을 누르면 기능을 호출하도록 만들어 주고, 실행하면 카카오계정 로그인화면을 보여준다. (주의점으로 등록된 Redirect URL이 현제 페이지와 일치해야 한다.)
  - 로그인을 하면 카카오로부터 동의한 사용자 정보를 확인 할 수 있다. 이에 대해서 우리쪽에 저장된 이메일과 카카오에서 반환한 사용자의 이메일을 비교해서 등록이 안되있으면 추가를 하고, 있으면 로그인 시키는 예제를 보여주고 있다.

### **13.2 네이버 아이디로 로그인하기 (p237)**
#### **13.2.1 오픈 API 이용 신청**
  - 네이버 개발자 센터에서 로그인을 하고 오픈 API이용 신청을 한다.
#### **13.2.2 약관동의**
#### **13.2.3 계정 정보 등록**
#### **13.2.4 애플리케이션 등록**
  - 애플리케이션 이름, 사용 API 및 수집하려는 정보를 선택하는 등의 설정을 한다.
  - 개발 상태를 테스트로 사용하기 때문에 검수요청은 하지 않고, 등록한 아이디만 가능하도록 멤버관리를 한다. (관리자는 3명까지, 테스터는 20명까지)
#### **13.2.5 네이버 JavaScript 등록**
  - index.html에 API를 등록한다.
#### **13.2.6 로그인 컴포넌트 구현**
  - NaverLogin.vue를 생성해서 해당하는 내용을 넣어준다. (p245 참조)
  - 로그인을 누르면 화면전환이 되면서 진행되는데 만약 팝으로 하고싶으면 isPopup 속성을 true로 해준다.
  - 정보를 제공하고 동의하기를 하면 네이버센터에서 애플리케이션 생성때 등록한 Callback URL로 돌아오고 사용자 정보도 같이 반환한다.
  - 네이버는 별도로 로그아웃 함수를 제공하지 않고 있어서 직접 네이버에가서 로그아웃을 하거나 토큰을 삭제해야 한다.
  
### **13.3 구글 계정으로 로그인하기 (p250)**
#### **13.3.1 프로젝트 생성**
  - 구글 클라우드 플랫폼에서 프로젝트를 생성한다.
#### **13.3.2 사용자 인증 정보 생성**
  - 사용자 인증정보를 만드는데 OAuth 클라이언트 ID를 선택하고, 동의 화면 구성에서 유저타입을 외부로 해주고, 앱 이름, 관리자 이메일, 앱 도메인(개발이니 로컬에서 로그인 페이지로 해준다.)을 넣어준다
  - GoogleLogin.vue를 만들어 주고 해당 패스를 등록해 주고, 테스트를 할 사용자를 등록해 준다.
  - 사용자 인증 정보 만들기를 클릭하고 OAuth 클라이언트 ID를 선택하고, 정보를 입력하고 만든다음에 ID와 비밀번호를 확인한다.(p259 참조)
#### **13.3.3 구글 플랫폼 라이브러리 로드하기**
  - index.html에 구글 플랫폼 라이브러리를 추가한다.
#### **13.3.4 클라이언트 ID 설정**
  - index.html에 header 부분에 클라이언트 ID를 추가한다.
#### **13.3.5 구글 로그인 버튼 추가하기**
  - GoogleLogin.vue를 라우터에 추가해서 로그인 버튼을 보여준다.
#### **13.3.6 사용자 프로필 정보 가져오기**
  - 로그인 버튼을 누르면 getBasicProfile() 함수로 로그인 정보를 받아온다.
#### **13.3.7 로그아웃**


